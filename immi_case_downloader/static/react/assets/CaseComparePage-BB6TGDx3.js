import{u as g,j as e}from"./query-DQVcjD57.js";import{c as b}from"./api-mEKAgK73.js";import{C as m}from"./CourtBadge-BrIX0RTk.js";import{O as f}from"./OutcomeBadge-CLX1K6qZ.js";import{N as h}from"./NatureBadge-Cez1hx4l.js";import{B as j}from"./Breadcrumb-DgmWk9ZU.js";import{E as N}from"./EmptyState-DqA8qOqX.js";import{u as y,a as _}from"./index-Bnk0r1Pl.js";import{G as w}from"./git-compare-B_kteoz4.js";import{E as v}from"./external-link-Bf9MZEXW.js";import{i as C,u as k,L as S}from"./vendor-CxW-pF4z.js";import"./chevron-right-By1PNT4I.js";import"./charts-CKTqRh7i.js";const d=[{key:"court",label:"Court"},{key:"court_code",label:"Court Code"},{key:"date",label:"Date"},{key:"year",label:"Year"},{key:"judges",label:"Judges"},{key:"outcome",label:"Outcome"},{key:"case_nature",label:"Case Nature"},{key:"visa_type",label:"Visa Type"},{key:"visa_subclass",label:"Visa Subclass"},{key:"legislation",label:"Legislation"},{key:"legal_concepts",label:"Legal Concepts"},{key:"catchwords",label:"Catchwords"},{key:"source",label:"Source"},{key:"tags",label:"Tags"}];function R(){const{t:a}=y(),[x]=C(),p=k(),r=x.getAll("ids"),{data:l,isLoading:u}=g({queryKey:["compare",r],queryFn:()=>b(r),enabled:r.length>=2});if(r.length<2)return e.jsx(N,{icon:e.jsx(w,{className:"h-8 w-8"}),title:a("pages.case_comparison.select_cases"),description:a("pages.case_comparison.description"),action:e.jsx("button",{onClick:()=>p("/cases"),className:"rounded-md bg-accent px-4 py-2 text-sm font-medium text-white hover:bg-accent-light",children:a("pages.case_comparison.go_to_cases")})});if(u||!l)return e.jsx("div",{className:"flex h-64 items-center justify-center text-muted-text",children:a("common.loading_ellipsis")});const i=l.cases,n=new Set;for(const{key:s}of d){const c=i.map(o=>String(o[s]??""));new Set(c).size>1&&n.add(s)}return e.jsxs("div",{className:"space-y-4",children:[e.jsx(j,{items:[{label:a("nav.cases"),href:"/cases"},{label:`${a("cases.comparison")} (${i.length})`}]}),e.jsx("div",{className:"overflow-x-auto rounded-lg border border-border bg-card",children:e.jsxs("table",{className:"min-w-max text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-border bg-surface",children:[e.jsx("th",{className:"sticky left-0 z-10 bg-surface p-3 text-left font-medium text-secondary-text",children:a("pages.data_dictionary.field_name")}),i.map(s=>e.jsxs("th",{className:"min-w-[200px] max-w-[250px] p-3 text-left",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(m,{court:s.court_code,className:"shrink-0"}),e.jsx("span",{className:"line-clamp-1 font-medium text-foreground",title:s.citation||s.title,children:s.citation||s.title})]}),e.jsxs(S,{to:`/cases/${s.case_id}`,className:"mt-1 inline-flex items-center gap-1 text-xs text-accent hover:underline",children:[a("buttons.view_details")," ",e.jsx(v,{className:"h-3 w-3"})]})]},s.case_id))]})}),e.jsx("tbody",{children:d.map(({key:s,label:c})=>{const o=n.has(s);return e.jsxs("tr",{className:_("border-b border-border-light",o&&"bg-warning/5"),children:[e.jsxs("td",{className:"sticky left-0 z-10 bg-card p-3 font-medium text-secondary-text whitespace-nowrap",children:[c,o&&e.jsx("span",{className:"ml-1 text-[10px] text-warning",children:a("pages.case_comparison.differs")})]}),i.map(t=>e.jsx("td",{className:"max-w-[250px] p-3 text-foreground",children:s==="outcome"?e.jsx(f,{outcome:t[s]}):s==="court_code"?e.jsx(m,{court:String(t[s]??"")}):s==="case_nature"?e.jsx(h,{nature:String(t[s]??"")}):e.jsx("span",{className:"line-clamp-3",title:String(t[s]??""),children:String(t[s]??"")||e.jsx("span",{className:"text-muted-text",children:"â€”"})})},t.case_id))]},s)})})]})})]})}export{R as CaseComparePage};
