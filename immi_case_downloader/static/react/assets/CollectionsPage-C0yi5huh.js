import{j as e}from"./query-DQVcjD57.js";import{u,r as f}from"./vendor-CxW-pF4z.js";import{B as g}from"./Breadcrumb-wSQIylrK.js";import{u as x,i as l,a as k,b as j,g as i,d as N,j as v,t as C}from"./index-Cnpb2OEX.js";import{T as w}from"./tag-sn-xsrHv.js";import{C as _}from"./CollectionEditor-D02RMa6V.js";import{P as m}from"./plus-BD3Ph8AY.js";import"./chevron-right-N6MYzFuX.js";import"./charts-CKTqRh7i.js";const y={blue:"border-l-blue-500",green:"border-l-green-500",amber:"border-l-amber-500",rose:"border-l-rose-500",purple:"border-l-purple-500",slate:"border-l-slate-500"};function B({collection:s}){const{t:o}=x(),r=u(),c=s.color?y[s.color]:"border-l-border",a=s.case_order.length,n=a===1?o("bookmarks.cases_count_one","1 case"):o("bookmarks.cases_count_other","{{count}} cases",{count:a});return e.jsxs("button",{onClick:()=>r(`/collections/${s.id}`),className:k("group flex w-full flex-col rounded-lg border border-border bg-card p-4 text-left shadow-xs transition-all duration-150","hover:-translate-y-0.5 hover:shadow-md","border-l-[3px]",c),children:[e.jsxs("div",{className:"mb-2 flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(l,{className:"h-4 w-4 shrink-0 text-accent"}),e.jsx("h3",{className:"font-heading text-sm font-semibold text-foreground transition-colors group-hover:text-accent",children:s.name})]}),e.jsx("span",{className:"shrink-0 rounded-full bg-surface px-2 py-0.5 text-xs text-muted-text",children:n})]}),s.description&&e.jsx("p",{className:"mb-2 line-clamp-2 text-xs text-secondary-text",children:s.description}),s.tags.length>0&&e.jsxs("div",{className:"mt-auto flex flex-wrap gap-1 pt-2",children:[e.jsx(w,{className:"h-3 w-3 shrink-0 text-muted-text"}),s.tags.map(t=>e.jsx("span",{className:"rounded-full bg-surface px-1.5 py-0.5 text-[10px] text-muted-text",children:t},t))]})]})}function q(){const{t:s}=x(),{bookmarks:o,collections:r}=j(),[c,a]=f.useState(!1);function n(t,h,d,p){const b=N(t,h,p);d.length>0&&v(b.id,{tags:d}),a(!1),C.success(s("bookmarks.collection_created","Collection created"))}return e.jsxs("div",{className:"space-y-6",children:[e.jsx(g,{items:[{label:s("bookmarks.collections","Collections")}]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"font-heading text-xl font-semibold text-foreground",children:s("bookmarks.collections","Collections")}),e.jsx("p",{className:"mt-0.5 text-sm text-secondary-text",children:s("bookmarks.collections_subtitle","Organise cases into named collections")})]}),e.jsxs("button",{onClick:()=>a(!0),className:"flex items-center gap-2 rounded-md bg-accent px-4 py-2 text-sm font-medium text-white hover:bg-accent/90",children:[e.jsx(m,{className:"h-4 w-4"}),s("bookmarks.new_collection","New Collection")]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2 rounded-md border border-border bg-card px-4 py-2",children:[e.jsx(i,{className:"h-4 w-4 text-accent"}),e.jsxs("span",{className:"text-sm text-foreground",children:[e.jsx("span",{className:"font-semibold",children:o.length})," ",s("bookmarks.add_note","").length>0?s("units.cases","cases"):"bookmarks"]})]}),e.jsxs("div",{className:"flex items-center gap-2 rounded-md border border-border bg-card px-4 py-2",children:[e.jsx(l,{className:"h-4 w-4 text-accent"}),e.jsxs("span",{className:"text-sm text-foreground",children:[e.jsx("span",{className:"font-semibold",children:r.length})," ",s("bookmarks.collections","collections")]})]})]}),r.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center rounded-xl border border-dashed border-border py-16 text-center",children:[e.jsx(l,{className:"mb-3 h-10 w-10 text-muted-text"}),e.jsx("p",{className:"font-heading text-sm font-semibold text-foreground",children:s("bookmarks.no_collections","No collections yet")}),e.jsx("p",{className:"mt-1 text-xs text-muted-text",children:s("bookmarks.no_collections_description","Create a collection to organise your bookmarked cases.")}),e.jsxs("button",{onClick:()=>a(!0),className:"mt-4 flex items-center gap-1.5 rounded-md bg-accent px-4 py-2 text-sm font-medium text-white hover:bg-accent/90",children:[e.jsx(m,{className:"h-4 w-4"}),s("bookmarks.new_collection","New Collection")]})]}):e.jsx("div",{className:"grid gap-4 sm:grid-cols-2",children:r.map(t=>e.jsx(B,{collection:t},t.id))}),o.length>0&&e.jsxs("div",{className:"rounded-lg border border-border bg-card p-5",children:[e.jsx("h2",{className:"mb-3 font-heading text-base font-semibold text-foreground",children:s("bookmarks.recent","Recent Bookmarks")}),e.jsx("div",{className:"space-y-2",children:o.slice(0,10).map(t=>e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(i,{className:"h-3 w-3 shrink-0 text-accent"}),e.jsx("a",{href:`/app/cases/${t.case_id}`,className:"truncate text-foreground hover:text-accent",children:t.case_citation||t.case_title}),t.date&&e.jsx("span",{className:"shrink-0 text-xs text-muted-text",children:t.date})]},t.case_id))})]}),o.length===0&&r.length===0&&e.jsx("p",{className:"text-center text-sm text-muted-text",children:s("bookmarks.no_bookmarks_description","Bookmark cases from the case list or detail view.")}),e.jsx(_,{open:c,onSave:n,onCancel:()=>a(!1)})]})}export{q as CollectionsPage};
