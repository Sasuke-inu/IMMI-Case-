{% extends "base.html" %}
{% block title %}Add Case{% endblock %}
{% block content %}
<nav aria-label="breadcrumb"><ol class="breadcrumb small">
  <li class="breadcrumb-item"><a href="{{ url_for('case_list') }}">Cases</a></li>
  <li class="breadcrumb-item active">Add New</li>
</ol></nav>
<h4 class="mb-3">Add Case Manually</h4>
<form method="post">
  <div class="row g-3">
    <div class="col-lg-8">
      <div class="card">
        <div class="card-header">Case Details</div>
        <div class="card-body">
          <div class="row g-3">
            <div class="col-md-6"><label class="form-label small">Citation <span class="text-danger">*</span></label><input type="text" name="citation" class="form-control form-control-sm" placeholder="[2024] AATA 1234" required></div>
            <div class="col-12"><label class="form-label small">Title / Parties <span class="text-danger">*</span></label><input type="text" name="title" class="form-control form-control-sm" placeholder="Smith v Minister for Immigration" required></div>
            <div class="col-md-5"><label class="form-label small">Court</label>
              <select name="court" class="form-select form-select-sm"><option value="">-- Select --</option><option value="Administrative Appeals Tribunal">AAT</option><option value="Federal Court of Australia">Federal Court</option><option value="Federal Circuit Court of Australia">Federal Circuit Court</option><option value="Federal Circuit and Family Court (Div 2)">Fed Circuit & Family Court</option><option value="High Court of Australia">High Court</option><option value="Refugee Review Tribunal">RRT</option><option value="Migration Review Tribunal">MRT</option></select></div>
            <div class="col-md-3"><label class="form-label small">Code</label><select name="court_code" class="form-select form-select-sm"><option value="">--</option>{% for c in ['AATA','FCA','FCCA','FedCFamC2G','HCA','RRTA','MRTA'] %}<option value="{{ c }}">{{ c }}</option>{% endfor %}</select></div>
            <div class="col-md-2"><label class="form-label small">Year</label><input type="number" name="year" class="form-control form-control-sm" placeholder="2024" min="1900" max="2100"></div>
            <div class="col-md-2"><label class="form-label small">Date</label><input type="text" name="date" class="form-control form-control-sm" placeholder="15 Mar 2024"></div>
            <div class="col-md-6"><label class="form-label small">Judge(s)</label><input type="text" name="judges" class="form-control form-control-sm"></div>
            <div class="col-md-6"><label class="form-label small">Visa Type</label><input type="text" name="visa_type" class="form-control form-control-sm" placeholder="protection visa"></div>
            <div class="col-12"><label class="form-label small">URL</label><input type="url" name="url" class="form-control form-control-sm" placeholder="https://..."></div>
            <div class="col-12"><label class="form-label small">Catchwords</label><textarea name="catchwords" class="form-control form-control-sm" rows="2"></textarea></div>
            <div class="col-12"><label class="form-label small">Outcome</label><textarea name="outcome" class="form-control form-control-sm" rows="2" placeholder="Application dismissed..."></textarea></div>
            <div class="col-12"><label class="form-label small">Legislation</label><textarea name="legislation" class="form-control form-control-sm" rows="2" placeholder="Migration Act 1958 s 501"></textarea></div>
            <div class="col-md-4"><label class="form-label small">Case Nature</label>
              <select name="case_nature" class="form-select form-select-sm"><option value="">--</option>{% for n in ['Merits Review','Judicial Review','Appeal','Visa Cancellation','Visa Refusal','Detention Challenge','Deportation','Constitutional'] %}<option value="{{ n }}">{{ n }}</option>{% endfor %}</select></div>
            <div class="col-md-8"><label class="form-label small">Legal Concepts <span class="text-muted">(semicolon separated)</span></label><textarea name="legal_concepts" class="form-control form-control-sm" rows="2" placeholder="Jurisdictional error; Procedural fairness; Unreasonableness"></textarea></div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-lg-4">
      <div class="card mb-3">
        <div class="card-header">Your Annotations</div>
        <div class="card-body">
          <label class="form-label small">Tags</label><input type="text" name="tags" class="form-control form-control-sm mb-3" placeholder="important, character-test">
          <label class="form-label small">Notes</label><textarea name="user_notes" class="form-control form-control-sm" rows="6" placeholder="Your analysis..."></textarea>
        </div>
      </div>
      <div class="d-grid gap-2">
        <button type="submit" class="btn btn-primary"><i class="bi bi-plus-circle me-1"></i>Add Case</button>
        <a href="{{ url_for('case_list') }}" class="btn btn-outline-secondary">Cancel</a>
      </div>
    </div>
  </div>
</form>
{% endblock %}
